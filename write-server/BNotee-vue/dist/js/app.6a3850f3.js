(function(){"use strict";var e={8033:function(e,t,o){var s=o(9963),i=o(6252),l=o(3577);function n(e,t,o,s,n,a){const d=(0,i.up)("tool-bar"),c=(0,i.up)("uploader"),r=(0,i.up)("control-balls"),h=(0,i.up)("msgbar"),u=(0,i.up)("note"),p=(0,i.up)("fixed-components"),m=(0,i.up)("anchors");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",{class:(0,l.C_)(["dark-filter",{darken:n.isDarkMode}])},null,2),(0,i.Wm)(d,{isTouchMode:n.isTouchMode},null,8,["isTouchMode"]),(0,i.Wm)(c),(0,i.Wm)(r,{isDarkMode:n.isDarkMode,isTouchMode:n.isTouchMode,isFullscreen:n.isFullscreen,onToggleDarkMode:t[0]||(t[0]=e=>n.isDarkMode=!n.isDarkMode),onToggleTouchMode:t[1]||(t[1]=e=>n.isTouchMode=!n.isTouchMode),onToggleFullscreen:t[2]||(t[2]=e=>n.isFullscreen=!n.isFullscreen)},null,8,["isDarkMode","isTouchMode","isFullscreen"]),(0,i.Wm)(h),(0,i.Wm)(u,{isFullscreen:n.isFullscreen,isTouchMode:n.isTouchMode},null,8,["isFullscreen","isTouchMode"]),(0,i.Wm)(p),(0,i.Wm)(m)],64)}const a=e=>((0,i.dD)("data-v-2eb990b0"),e=e(),(0,i.Cn)(),e),d={class:"toolbar shadow-3"},c={class:"logo shadow-2"},r=a((()=>(0,i._)("i",{class:"material-icons"},"info_outline",-1))),h=[r],u=a((()=>(0,i._)("i",{class:"material-icons"},"format_list_bulleted",-1))),p=[u],m={class:"tools"},b=a((()=>(0,i._)("i",{class:"material-icons"},"add",-1))),f=[b],g=a((()=>(0,i._)("i",{class:"material-icons"},"remove",-1))),v=[g],w=a((()=>(0,i._)("i",{class:"material-icons"},"indeterminate_check_box",-1))),T=[w],_=a((()=>(0,i._)("i",{class:"material-icons"},"color_lens",-1))),C=[_],k=a((()=>(0,i._)("i",{class:"material-icons"},"clear_all",-1))),N=[k],y=a((()=>(0,i._)("i",{class:"material-icons"},"cloud_upload",-1))),x=[y],L=a((()=>(0,i._)("i",{class:"material-icons"},"vertical_align_bottom",-1))),M=[L],j={class:"material-icons file"},D={ref:"fileUploader",type:"file",accept:"application/json"};function S(e,t,o,n,a,r){const u=(0,i.up)("info");return(0,i.wg)(),(0,i.iD)("div",d,[(0,i.Wm)(u,{disabled:!a.isInfoWindowShow},null,8,["disabled"]),(0,i._)("div",c,[(0,i._)("div",{class:(0,l.C_)(["info-outer",{disabled:!a.isInfoIconShow}]),onClick:t[0]||(t[0]=e=>a.isInfoWindowShow=!0)},h,2),(0,i._)("div",{class:"logo-outer",onClick:t[1]||(t[1]=(...e)=>r.logoClick&&r.logoClick(...e))},p)]),(0,i._)("div",m,[(0,i._)("div",{class:(0,l.C_)(["tool btn btn-shallow",{disabled:!r.selectedNode.loc}]),onClick:t[2]||(t[2]=(...e)=>r.openTextfield&&r.openTextfield(...e))},f,2),(0,i._)("div",{class:(0,l.C_)(["tool btn btn-shallow",{disabled:!r.selectedNode.loc}]),onClick:t[3]||(t[3]=(...e)=>r.toDeleteNode&&r.toDeleteNode(...e))},v,2),(0,i.wy)((0,i._)("div",{class:(0,l.C_)(["tool btn btn-shallow",{disabled:!r.selectedNode.loc}]),onClick:t[4]||(t[4]=(...e)=>r.nodeCancelSelect&&r.nodeCancelSelect(...e))},T,2),[[s.F8,o.isTouchMode]]),(0,i._)("div",{class:(0,l.C_)(["tool btn btn-shallow",{disabled:!["h1","h2","h3","h4","p","li"].includes(r.selectedNode.type)}]),onClick:t[5]||(t[5]=(...e)=>r.openColors&&r.openColors(...e))},C,2),(0,i._)("div",{class:"tool btn btn-shallow",onClick:t[6]||(t[6]=(...e)=>r.clearNodes&&r.clearNodes(...e))},N),(0,i._)("div",{class:"tool btn btn-shallow",onClick:t[7]||(t[7]=(...e)=>r.openUploader&&r.openUploader(...e))},x),(0,i._)("div",{class:"tool btn btn-shallow",onClick:t[8]||(t[8]=(...e)=>r.saveNote&&r.saveNote(...e)),onContextmenu:t[9]||(t[9]=(0,s.iM)(((...e)=>r.saveMarkdown&&r.saveMarkdown(...e)),["prevent"]))},M,32),(0,i._)("div",{class:"tool btn btn-shallow",onClick:t[10]||(t[10]=(...e)=>r.readNote&&r.readNote(...e))},[(0,i._)("i",j,[(0,i.Uk)("input "),(0,i._)("input",D,null,512)])])])])}const O=e=>((0,i.dD)("data-v-e14e41c8"),e=e(),(0,i.Cn)(),e),F={class:"info-outer"},I=O((()=>(0,i._)("i",{class:"material-icons"},"close",-1))),$=[I],A=O((()=>(0,i._)("div",{class:"info"},[(0,i._)("h1",null,"关于 | About"),(0,i._)("hr"),(0,i._)("h2",null,"此 | This"),(0,i._)("p",null," 一个运行在浏览器上的笔记程序。| A notebook application works on your Browser. "),(0,i._)("hr"),(0,i._)("h2",null,"作者 | Author"),(0,i._)("p",null,[(0,i.Uk)(" GitHub: "),(0,i._)("a",{href:"https://github.com/BHznJNs",target:"_blank"},"https://github.com/BHznJNs"),(0,i._)("br"),(0,i.Uk)(" BiliBili: "),(0,i._)("a",{href:"https://space.bilibili.com/274945998",target:"_blank"},"https://space.bilibili.com/274945998"),(0,i._)("br")]),(0,i._)("hr"),(0,i._)("h2",null,"框架 | Framework"),(0,i._)("p",null,[(0,i.Uk)(" Vue.js "),(0,i._)("a",{href:"https://v3.cn.vuejs.org/",target:"_blank"},"https://v3.cn.vuejs.org/"),(0,i._)("br"),(0,i.Uk)(" MDUI "),(0,i._)("a",{href:"https://www.mdui.org/",target:"_blank"},"https://www.mdui.org/")])],-1)));function E(e,t,o,s,l,n){const a=(0,i.up)("window");return(0,i.wg)(),(0,i.j4)(a,{width:"800px",height:"480px",disabled:o.disabled,onClose:n.close},{default:(0,i.w5)((()=>[(0,i._)("div",F,[(0,i._)("div",{class:"closer shadow-1",onClick:t[0]||(t[0]=(...e)=>n.close&&n.close(...e))},$),A])])),_:1},8,["disabled","onClose"])}const H={class:"window-outer"};function W(e,t,o,s,n,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["window-container",{disabled:o.disabled}])},[(0,i._)("div",{class:"fullscreen-mask",onClick:t[0]||(t[0]=(...e)=>a.close&&a.close(...e))}),(0,i._)("div",H,[(0,i._)("div",{class:"window shadow-16",style:(0,l.j5)({width:o.width,height:o.height})},[(0,i.WI)(e.$slots,"default",{},void 0,!0)],4)])],2)}var Z={props:["width","height","disabled"],methods:{close(){this.$emit("close")}}},U=o(3744);const B=(0,U.Z)(Z,[["render",W],["__scopeId","data-v-4224fe13"]]);var K=B,V={components:{Window:K},props:["disabled"],methods:{close(){this.$parent.isInfoWindowShow=!1}}};const R=(0,U.Z)(V,[["render",E],["__scopeId","data-v-e14e41c8"]]);var Y=R,G={inject:["note"],computed:{getThisObj(){if(!this.location)return;let e;return this.getNodeObj({location:this.location,callback:(t,o)=>{e=t[o]}}),e}},methods:{getNodeObj({parentObj:e=this.note,location:t,num:o=0,callback:s}){o==t.length-1?s&&s(e.CTS,t[o]):this.getNodeObj({parentObj:e.CTS[t[o]],location:t,num:o+1,callback:s})}}};const z=G;var P=z,J={methods:{insertNode(e,t){e&&t&&this.getNodeObj({location:t,callback:(t,o)=>{t.splice(o+1,0,e)}})}}},q={methods:{deleteNode(e){let t;return this.selectedNode.vnode&&(this.selectedNode.loc=null,this.selectedNode.type="",this.selectedNode.vnode=null,this.selectedNode.obj=null),this.getNodeObj({location:e,callback:(e,o)=>{t=e[o],e.splice(o,1)}}),t}}},Q=o(9473);function X(e,t){function o(e,t){const s="    ".repeat(t),i=e.OL,l=i?"1. ":"- ",n=e.CTS;let a="";for(const d of n)"li"==d.NT?a+=s+l+d.CT+"\n\n":a+=o(d,t+1);return a}const s=e.CT;let i,l=!1,n=!1;switch(e.NT){case"h":i="#".repeat(t)+s;break;case"hr":i="* * *";break;case"p":i="  ".repeat(t-1)+s;break;case"link":i=`[${s}](${e.HF})`;break;case"floor":l=!0,i=ee(e.CTS,t+1);break;case"list":l=!0,i=o(e,0),n=!0;break;case"table":i=(0,Q.x)(e.CTS),n=!0;break;case"details":i=`> ${e.SUM}`;for(const t of e.CTS)i+="\n\n>> "+t.CT;n=!0;break;case"code":i=`\`\`\`${e.LG}\n${e.CT}\n\`\`\``;break;default:return console.log("Unknown node type!"),""}return l||(i+="\n\n"),n&&(i+="\n"),i}function ee(e,t){let o="";for(const s of e)o+=X(s,t);return o}var te=e=>{const t=e.CTS;return ee(t,1)},oe=o(9391),se=new oe.Z,ie=o(3162),le=o.n(ie),ne={data(){return{isInfoIconShow:!1,isInfoWindowShow:!1}},props:["isTouchMode"],inject:["note","selectedNode"],components:{Info:Y},mixins:[P,J,q],mounted(){const e=this.$refs.fileUploader;e.addEventListener("change",(()=>{let t=new FileReader;t.readAsText(e.files[0],"uft8"),t.onload=e=>{let t=e.target.result;this.note.CTS=JSON.parse(t),se.emit("note-loaded")}})),se.on("textfield-return-toolBar",(e=>{this.toInsertNode(e)}))},methods:{logoClick(){this.isInfoIconShow=!0,setTimeout((()=>{this.isInfoIconShow=!1}),3e3)},openTextfield(){se.emit("textfield-open","toolBar")},toInsertNode(e){const t=Array.from(this.selectedNode.loc);this.insertNode(e,t),t[t.length-1]+=1,se.emit("add-history",{loc:t,prop:"IST"})},toDeleteNode(){const e=this.selectedNode.loc,t=this.deleteNode(e);e[e.length-1]-=1,se.emit("add-history",{loc:e,prop:"DEL",nodeObj:t})},nodeCancelSelect(){this.selectedNode.vnode.selected=!1,this.selectedNode.loc=null,this.selectedNode.obj=null,this.selectedNode.type=null},openColors(){se.emit("fixedComponents-open","colors")},clearNodes(){this.note.CTS=[],this.note.HT=[],se.emit("clear-history")},openUploader(){se.emit("open-uploader")},saveNote(){let e=new Blob([JSON.stringify(this.note.CTS)],{type:"text/plain;charset=utf-8"});const t=this.note.NM||"MyNote";le()(e,t+".json")},saveMarkdown(){const e=te(this.note);let t=new Blob([e],{type:"text/plain;charset=utf-8"});const o=this.note.NM||"MyNote";le()(t,o+".md")},readNote(){const e=this.$refs.fileUploader;e.click()}}};const ae=(0,U.Z)(ne,[["render",S],["__scopeId","data-v-2eb990b0"]]);var de=ae;const ce=e=>((0,i.dD)("data-v-5fec381c"),e=e(),(0,i.Cn)(),e),re=ce((()=>(0,i._)("i",{class:"material-icons"},"add",-1))),he=[re];function ue(e,t,o,n,a,d){const c=(0,i.up)("floor-block"),r=(0,i.up)("node-renderer"),h=(0,i.up)("textfield-group");return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["note-outer shadow-4",{fullscreen:o.isFullscreen}])},[(0,i._)("div",{class:"note",ref:"note",onContextmenu:t[1]||(t[1]=(0,s.iM)((()=>{}),["prevent"]))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.note.CTS,((e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:e.id},["floor"==e.NT?((0,i.wg)(),(0,i.j4)(c,{key:0,children:e.CTS,level:2,location:[t]},null,8,["children","location"])):((0,i.wg)(),(0,i.j4)(r,{key:1,level:1,nodeObj:e,location:[t]},null,8,["nodeObj","location"]))],64)))),128)),(0,i.Wm)(h,{id:"note-textfield-group",ref:"textfield",isAdding:a.isNodeAdding,onReturnNode:d.closeNodeAdder},null,8,["isAdding","onReturnNode"]),(0,i._)("div",{class:(0,l.C_)(["btn-fab adder-btn",{disabled:a.isNodeAdding,fullscreen:o.isFullscreen}]),onClick:t[0]||(t[0]=(...e)=>d.openNodeAdder&&d.openNodeAdder(...e))},he,2)],544)],2)}o(7658);const pe=["#","`","_","/","-",":"],me={"##":"strong","``":"code",__:"u","//":"i","--":"del","::":"span"};function be(e){const t=[];let o="",s="";for(let i of e)pe.includes(i)?i==s?(t.push({type:"text",content:o.slice(0,-1)}),t.push({type:"key",content:i.repeat(2)}),s="",o=""):(o+=i,s=i):(s.length&&(s=""),o+=i);return o.length&&t.push({type:"text",content:o}),t}function fe(e){const t=[];let o="",s="",i="";for(let l of e){const e=l.content;if(o+=e,"key"==l.type)if("key"==s){if(e!=i)continue;const l=me[e];t.push({tagName:l,content:o}),s="",o=""}else s="key",i=e;else"key"!=s&&(t.push({tagName:"text",content:o}),o="")}if(o.length){const e=t[t.length-1];e.content+=o}return t}function ge(e,t){return`<${e}>${t}</${e}>`}function ve(e){const t=[];for(let o of e)"text"==o.tagName?t.push(o.content):t.push(ge(o.tagName,o.content));return t}function we(e){if(!e)return null;const t=be(e),o=fe(t);let s;s=ve(o);const i=s.join("");return i}async function Te(){const e=document.getElementsByClassName("inline-style");for(let t of e){const e=t.textContent;if(!e)continue;const o=we(e,"HTML");t.innerHTML=o}}var _e={outputer:we,init:Te};const Ce=(0,i._)("div",{class:"mask"},null,-1);function ke(e,t,o,s,n,a){const d=(0,i.up)("floor-block",!0),c=(0,i.up)("node-renderer"),r=(0,i.up)("block-controls");return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["floor shadow-1",{"shadow-3":n.selected,"touch-mode":a.isTouchMode}]),onMouseenter:t[0]||(t[0]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onMouseleave:t[1]||(t[1]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t))},[Ce,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.children,((e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:e.id},["floor"==e.NT?((0,i.wg)(),(0,i.j4)(d,{key:0,children:e.CTS,level:o.level+1,location:o.location.concat([t])},null,8,["children","level","location"])):((0,i.wg)(),(0,i.j4)(c,{key:1,nodeObj:e,level:o.level,location:o.location.concat([t])},null,8,["nodeObj","level","location"]))],64)))),128)),(0,i.Wm)(r,{disabled:!e.hover,isTouchMode:a.isTouchMode,selected:n.selected,location:o.location,parentType:"floor"},null,8,["disabled","isTouchMode","selected","location"])],34)}var Ne={methods:{selectEvent(){this.selected?(se.emit("fixedComponents-close"),this.selectedNode.loc=null,this.selectedNode.vnode=null,this.selectedNode.obj=null,this.selectedNode.type=null,this.selected=!1):(this.selectedNode.loc&&(this.selectedNode.vnode.selected=!1),this.selectedNode.loc=this.location,this.selectedNode.vnode=this,this.selectedNode.obj=this.getThisObj,this.selectedNode.type=this.tagName,this.selected=!0)}}},ye={data(){return{selected:!1,initialContent:"",editing:!1,dbTouch:!1}},inject:["selectedNode"],mixins:[P,Ne],props:["tagName","content","location","color"],watch:{content(e){this.$nextTick((()=>{const t=_e.outputer(e);this.$el.innerHTML=t}))}},render(){return(0,i.h)(this.tagName,{contentEditable:!0,class:{selected:this.selected,editing:this.editing,"inline-style":!0},style:{color:this.color},onContextmenu:e=>{e.preventDefault(),this.initialContent||(this.initialContent=e.target.innerText),this.selectEvent()},onTouchstart:()=>{this.dbTouch&&this.selectEvent(),this.dbTouch=!0,setTimeout((()=>{this.dbTouch=!1}),300)},onClick:()=>{this.editing||(this.initialContent=this.$el.innerText),this.editing=!0},onBlur:e=>{const t=e.target.innerText;t!=this.initialContent&&(this.getThisObj.CT=t,se.emit("add-history",{loc:this.location,prop:"CT",before:this.initialContent,after:t}),this.initialContent=t),this.editing=!1}},this.content)}};const xe=ye;var Le=xe,Me={props:["level","content","location","color"],components:[Le],mounted(){this.$nextTick((()=>{se.emit("anchor-mounted")}))},render(){let e;return e=this.level<6?"h"+this.level:"h5",(0,i.h)(Le,{tagName:e,id:this.location.join(""),class:"heading",content:this.content,color:this.color,location:this.location})}};const je=Me;var De=je,Se={data(){return{selected:!1,initialContent:"",editing:!1,dbRightClick:!1}},inject:["selectedNode"],mixins:[P,Ne],props:["tagName","content","location","color","href"],render(){return(0,i.h)(this.tagName,{contentEditable:!0,href:this.href,target:"_blank",class:{selected:this.selected,editing:this.editing,"inline-style":!0},style:{color:this.color},onClick:e=>{e.preventDefault(),window.open(this.href),this.$el.blur()},onContextmenu:e=>{e.preventDefault(),this.dbRightClick?this.selectEvent():(this.dbRightClick=!0,setTimeout((()=>{this.dbRightClick=!1}),300),this.editing||(this.initialContent=e.target.innerText),this.editing=!0)},onBlur:e=>{const t=e.target.innerText;t!=this.initialContent&&(this.getThisObj.CT=t,se.emit("add-history",{loc:this.location,prop:"CT",before:this.initialContent,after:t}),this.initialContent=t),this.editing=!1}},this.content)}};const Oe=Se;var Fe=Oe;const Ie=(0,i._)("div",{class:"mask"},null,-1),$e=(0,i._)("i",{class:"material-icons"},"playlist_add",-1),Ae=[$e],Ee={class:"material-icons"},He={class:"material-icons"};function We(e,t,o,n,a,d){const c=(0,i.up)("list-block",!0),r=(0,i.up)("basic-node"),h=(0,i.up)("list-child"),u=(0,i.up)("block-controls");return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["list",{"shadow-2":a.selected,hover:e.hover,empty:!o.children.length,"touch-mode":d.isTouchMode,nested:a.isNested}]),onMouseenter:t[2]||(t[2]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onMouseleave:t[3]||(t[3]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t))},[Ie,(0,i.Wm)(h,{ordered:o.isOrdered},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.children,((t,s)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:t.id},["list"==t.NT?((0,i.wg)(),(0,i.j4)(c,{key:0,isOrdered:t.OL,children:t.CTS,location:o.location.concat([s]),onMouseInChild:e.onMouseLeave},null,8,["isOrdered","children","location","onMouseInChild"])):((0,i.wg)(),(0,i.j4)(r,{key:1,tagName:"li",content:t.CT,color:t.CL,location:o.location.concat([s])},null,8,["content","color","location"]))],64)))),128))])),_:1},8,["ordered"]),(0,i.Wm)(u,{disabled:!e.hover,isTouchMode:d.isTouchMode,selected:a.selected,location:o.location,parentType:"list"},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"btn btn-normal tool-btn-in-block",onClick:t[0]||(t[0]=(...e)=>d.addListBlock&&d.addListBlock(...e))},Ae),(0,i._)("div",{class:"btn btn-normal tool-btn-in-block",onClick:t[1]||(t[1]=(...e)=>d.toggleOrdered&&d.toggleOrdered(...e))},[(0,i.wy)((0,i._)("i",Ee,"format_list_bulleted",512),[[s.F8,o.isOrdered]]),(0,i.wy)((0,i._)("i",He,"format_list_numbered",512),[[s.F8,!o.isOrdered]])])])),_:1},8,["disabled","isTouchMode","selected","location"])],34)}const Ze=e=>((0,i.dD)("data-v-04fa293f"),e=e(),(0,i.Cn)(),e),Ue=Ze((()=>(0,i._)("i",{class:"material-icons"},"add",-1))),Be=[Ue],Ke={class:"checkbox"},Ve=["checked"];function Re(e,t,o,s,n,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["controls",{disabled:o.disabled&&!o.isTouchMode,"touch-mode":o.isTouchMode}])},[(0,i._)("div",{class:"btn btn-normal tool-btn-in-block",onClick:t[0]||(t[0]=(...t)=>e.addNode&&e.addNode(...t))},Be),(0,i.WI)(e.$slots,"default",{},void 0,!0),(0,i._)("label",Ke,[(0,i._)("input",{type:"checkbox",ref:"checkbox",checked:o.selected,onChange:t[1]||(t[1]=(...e)=>a.selectEvent&&a.selectEvent(...e))},null,40,Ve),(0,i._)("i",{class:"checkbox-icon",onTouchstart:t[2]||(t[2]=(...e)=>a._touchstart&&a._touchstart(...e)),onTouchend:t[3]||(t[3]=(...e)=>a._touchend&&a._touchend(...e))},null,32)])],2)}var Ye={methods:{tableAdder(e){const t=e.length,o=e[0].length;let s=[];for(let i=0;i<o;i++)s.push("");e.push(s),se.emit("add-history",{loc:this.location,prop:"ROW",before:t,after:t+1})},detailAdder(e){e.push({CT:"",CL:"#333"});const t=Object.create(this.location);t.push(e.length-1),se.emit("add-history",{loc:t,prop:"IST"})},listAdder(e){e.push({NT:"li",CT:"",CL:"#333"});const t=Object.create(this.location);t.push(e.length-1),se.emit("add-history",{loc:t,prop:"IST"})},floorAdder(e){se.off("textfield-return-"+this.parentType),se.on("textfield-return-"+this.parentType,(t=>{t&&e.push(t);const o=Array.from(this.location);o.push(e.length-1),se.emit("add-history",{loc:o,prop:"IST"}),se.off("textfield-return-"+this.parentType)})),se.emit("textfield-open",this.parentType)},addNode(){const e=this.getThisObj.CTS;switch(this.parentType){case"table":this.tableAdder(e);break;case"details":this.detailAdder(e);break;case"list":this.listAdder(e);break;case"floor":this.floorAdder(e)}}}},Ge={data(){return{timeout:null}},props:["isTouchMode","parentType","disabled","location","selected"],inject:["selectedNode"],mixins:[P,Ye],methods:{_touchstart(){this.timeout=setTimeout((()=>{this.addNode()}),1e3)},_touchend(){clearTimeout(this.timeout)},selectEvent(){const e=this.$refs.checkbox.checked;this.$parent.selected=e,e?(this.selectedNode.loc&&(this.selectedNode.vnode.selected=!1),this.selectedNode.loc=this.location,this.selectedNode.vnode=this.$parent,this.selectedNode.type=this.parentType,"list"==this.parentType&&(this.selectedNode.type=this.$parent.isNested?"nestedList":"notNestedList")):(this.selectedNode.loc=null,this.selectedNode.vnode=null,this.selectedNode.type=null)}}};const ze=(0,U.Z)(Ge,[["render",Re],["__scopeId","data-v-04fa293f"]]);var Pe=ze,Je={data(){return{hover:!1,setTimeout:null}},methods:{onMouseEnter(){this.setTimeout=setTimeout((()=>{this.hover=!0}),400)},onMouseLeave(){clearTimeout(this.setTimeout),this.selected||(this.hover=!1)}}},qe={name:"list-block",data(){return{selected:!1,isNested:null}},components:{BasicNode:Le,BlockControls:Pe,listChild:{props:["ordered"],render(){return(0,i.h)(this.ordered?"ol":"ul",this.$slots.default())}}},props:["children","isOrdered","location"],inject:["isTouchMode"],mixins:[P,Je],methods:{addListBlock(){const e=this.getThisObj.CTS;e.push({NT:"list",OL:!1,CTS:[{NT:"li",CT:"",CL:"#333"}]});const t=Object.create(this.location);t.push(e.length-1),se.emit("add-history",{loc:t,prop:"IST"})},toggleOrdered(){this.getThisObj.OL=!this.getThisObj.OL}},mounted(){const e=this.$el.parentNode;this.isNested="OL"==e.tagName||"UL"==e.tagName}};const Qe=(0,U.Z)(qe,[["render",We]]);var Xe=Qe;const et=(0,i._)("div",{class:"mask"},null,-1),tt=(0,i._)("i",{class:"material-icons"},"grid_on",-1),ot=[tt];function st(e,t,o,s,n,a){const d=(0,i.up)("table-row"),c=(0,i.up)("block-controls");return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["table shadow-1",{"shadow-3":n.selected,"touch-mode":a.isTouchMode,hover:e.hover&&!a.isTouchMode}]),onMouseenter:t[1]||(t[1]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t))},[et,(0,i._)("table",null,[(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.children,((e,t)=>((0,i.wg)(),(0,i.j4)(d,{key:e.id,children:e,location:o.location.concat(t)},null,8,["children","location"])))),128))])]),(0,i.Wm)(c,{isTouchMode:a.isTouchMode,disabled:!e.hover,selected:n.selected,location:o.location,parentType:"table"},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"btn btn-normal tool-btn-in-block",onClick:t[0]||(t[0]=(...e)=>a.openTableSetter&&a.openTableSetter(...e))},ot)])),_:1},8,["isTouchMode","disabled","selected","location"])],34)}const it=["onBlur"];function lt(e,t,o,s,n,a){return(0,i.wg)(),(0,i.iD)("tr",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.children,((e,o)=>((0,i.wg)(),(0,i.iD)("td",{key:e.id,onClick:t[0]||(t[0]=(...e)=>a.edit&&a.edit(...e)),onContextmenu:t[1]||(t[1]=(...e)=>a.edit&&a.edit(...e)),onBlur:e=>a.finishEdit(e,o),contenteditable:"true"},(0,l.zw)(e),41,it)))),128))])}var nt={mixins:[P],props:["children","location"],methods:{edit(e){let t=e.target;t.classList.add("editing")},finishEdit(e,t){let o=e.target;o.classList.remove("editing");let s=o.innerText;this.getThisObj[t]=s}}};const at=(0,U.Z)(nt,[["render",lt]]);var dt=at,ct={data(){return{selected:!1}},props:["children","location"],inject:["isTouchMode"],mixins:[Je],components:{TableRow:dt,BlockControls:Pe},methods:{openTableSetter(){se.emit("fixedComponents-open","tableSetter"),se.emit("table-location",this.location)}}};const rt=(0,U.Z)(ct,[["render",st]]);var ht=rt;function ut(e,t,o,s,n,a){const d=(0,i.up)("basic-node"),c=(0,i.up)("block-controls");return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["details",{"shadow-2":n.selected,hover:e.hover,"touch-mode":a.isTouchMode}]),onMouseenter:t[2]||(t[2]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onMouseleave:t[3]||(t[3]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t))},[(0,i._)("summary",{class:"summary",contenteditable:"true",ref:"summary",onBlur:t[0]||(t[0]=(...e)=>a.finishEdit&&a.finishEdit(...e))},(0,l.zw)(o.summary),545),(0,i._)("details",null,[(0,i._)("summary",{onContextmenu:t[1]||(t[1]=t=>e.$refs.summary.focus()),style:{"line-height":"1.4"}},null,32),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.children,((e,t)=>((0,i.wg)(),(0,i.j4)(d,{key:e.id,tagName:"p",content:e.CT,color:e.CL,location:o.location.concat([t])},null,8,["content","color","location"])))),128))]),(0,i.Wm)(c,{disabled:!e.hover,isTouchMode:a.isTouchMode,selected:n.selected,location:o.location,parentType:"details"},null,8,["disabled","isTouchMode","selected","location"])],34)}var pt={data(){return{selected:!1}},components:{BasicNode:Le,BlockControls:Pe},mixins:[P,Je],inject:["isTouchMode"],props:["children","summary","location"],methods:{finishEdit(e){const t=e.target,o=t.innerText;se.emit("add-history",{loc:this.location,prop:"SUM",before:this.getThisObj.SUM,after:o}),this.getThisObj.SUM=o}}};const mt=(0,U.Z)(pt,[["render",ut],["__scopeId","data-v-7df230aa"]]);var bt=mt;function ft(e,t,o,s,l,n){const a=(0,i.up)("highlightjs");return t[0]||((0,i.qZ)(-1),t[0]=(0,i.Wm)(a,{code:o.code,language:o.language,autodetect:!1,onFocusout:n.render,onContextmenu:n.select,tabindex:"0"},null,8,["code","language","onFocusout","onContextmenu"]),(0,i.qZ)(1),t[0])}var gt=o(8783),vt=o(1073);function wt(e,t="end"){const o=window.getSelection(),s=o.getRangeAt(0),i=document.createTextNode(e);s.insertNode(i),"start"==t?o.collapseToStart():"end"==t?o.collapseToEnd():console.warn("Unknown direction type!")}function Tt(e){e.preventDefault(),wt("    ")}const _t=new Map([[")","("],["]","["],["}","{"],[">","<"]]),Ct=["html","xml","xhtml","svg","rss"];function kt(e,t){setTimeout((()=>{t?(wt(`${_t.get(e)}\n    `),wt(`\n${e}`,"start")):wt(e,"start")}),150)}var Nt={methods:{codeInput(e){switch(e.keyCode){case 9:Tt(e);break;case 57:e.shiftKey&&kt(")",e.altKey);break;case 219:e.shiftKey?kt("}",e.altKey):kt("]",e.altKey);break;case 188:Ct.includes(this.language)&&kt(">");break;case 222:e.shiftKey?kt('"'):kt("'");break;case 192:kt("`",e.altKey);break}}}},yt={data(){return{tagName:"code",codeNode:null,selected:!1}},components:{highlightjs:vt.Z.component},mixins:[P,Ne,Nt],inject:["selectedNode"],props:["language","code","location"],watch:{code(e){this.codeNode.innerHTML=e,gt.Z.highlightElement(this.codeNode)}},methods:{render(){let e=this.codeNode.innerText;e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;");const t=this.getThisObj.CT,o=e;o!=t&&(se.emit("add-history",{loc:this.location,prop:"CT",before:this.getThisObj.CT,after:e}),this.getThisObj.CT=e)},select(){this.selectEvent(),this.codeNode.classList.toggle("selected",this.selected)}},mounted(){this.codeNode=this.$el.querySelector("code"),this.codeNode.contentEditable=!0,this.codeNode.addEventListener("keydown",this.codeInput),this.$nextTick((()=>{this.codeNode.innerHTML=this.code,gt.Z.highlightElement(this.codeNode)}))}};const xt=(0,U.Z)(yt,[["render",ft]]);var Lt=xt,Mt={props:["nodeObj","level","location"],render(){let e,t={location:this.location};switch(this.nodeObj.NT){case"h":e=De,t.level=this.level,t.content=this.nodeObj.CT,t.color=this.nodeObj.CL;break;case"link":e=Fe,t.tagName="a",t.content=this.nodeObj.CT,t.color=this.nodeObj.CL,t.href=this.nodeObj.HF;break;case"list":e=Xe,t.isOrdered=this.nodeObj.OL,t.children=this.nodeObj.CTS;break;case"table":e=ht,t.children=this.nodeObj.CTS;break;case"details":e=bt,t.summary=this.nodeObj.SUM,t.children=this.nodeObj.CTS;break;case"code":e=Lt,t.language=this.nodeObj.LG,t.code=this.nodeObj.CT;break;default:e=Le,t.tagName=this.nodeObj.NT,t.content=this.nodeObj.CT,t.color=this.nodeObj.CL}return(0,i.h)(e,t)}};const jt=Mt;var Dt=jt,St={name:"floor-block",components:{BlockControls:Pe,NodeRenderer:Dt},data(){return{selected:!1}},props:["level","location","children"],inject:["isTouchMode"],mixins:[Je]};const Ot=(0,U.Z)(St,[["render",ke]]);var Ft=Ot;const It={class:"selector",ref:"selector"},$t=(0,i.uE)('<option value="h">标题</option><option value="p">段落</option><option value="link">链接</option><option value="hr">割线</option><option value="floor">层次</option><option value="ol">序列</option><option value="ul">乱列</option><option value="code">代码</option><option value="table">表格</option><option value="details">详情</option>',10),At=[$t],Et=(0,i._)("i",{class:"material-icons"},"close",-1),Ht=[Et];function Wt(e,t,o,n,a,d){return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["textfield-group shadow-2",{disabled:!o.isAdding}])},[(0,i._)("select",It,At,512),(0,i._)("div",{class:"textfield",contenteditable:"true",ref:"inputter",onKeydown:t[0]||(t[0]=(0,s.D2)((0,s.iM)(((...e)=>d.enter&&d.enter(...e)),["prevent"]),["enter"]))},null,544),(0,i._)("div",{class:"textfield-closer closer",onClick:t[1]||(t[1]=e=>d.closeNodeAdder())},Ht)],2)}var Zt=(e,t)=>{if(!t)return null;let o={NT:e};switch(e){case"h":case"p":case"li":o.CT=t,o.CL="#333";break;case"link":o.HF=t,o.CT="",o.CL="#333";break;case"hr":break;case"floor":o.CTS=[{NT:"h",CT:t,CL:"#333"}];break;case"ol":o.NT="list",o.CTS=[{NT:"li",CT:t,CL:"#333"}],o.OL=!0;break;case"ul":o.NT="list",o.CTS=[{NT:"li",CT:t,CL:"#333"}],o.OL=!1;break;case"code":o.LG=t,o.CT="";break;case"table":o.CTS=[[t,"","",""],["","","",""]];break;case"details":o.SUM=t,o.CTS=[{CT:"",CL:"#333"}];break}return o},Ut={props:["isAdding"],inject:["note"],methods:{focus(){const e=this.$refs.inputter;e.focus()},enter(){this.closeNodeAdder()},closeNodeAdder(){const e=this.$refs.selector,t=this.$refs.inputter,o=e.value,s=t.innerText,i=Zt(o,s);this.$emit("return-node",i),t.blur(),t.innerText=""}}};const Bt=(0,U.Z)(Ut,[["render",Wt]]);var Kt=Bt,Vt={components:{FloorBlock:Ft,NodeRenderer:Dt,TextfieldGroup:Kt},data(){return{isNodeAdding:!1}},props:["isFullscreen"],inject:["note"],created(){addEventListener("keydown",(e=>{const t=e.altKey,o=e.key;t&&"a"==o&&(e.preventDefault(),this.openNodeAdder())}))},mounted(){this.$nextTick((()=>{_e.init()})),se.on("note-loaded",(()=>{this.$nextTick((()=>{_e.init()}))}))},methods:{openNodeAdder(){location.href="#note-textfield-group",this.isNodeAdding=!0,this.$nextTick((()=>{this.$refs.textfield.focus()}))},closeNodeAdder(e){this.isNodeAdding=!1;const t=this.note.CTS;e&&t.push(e);const o=[t.length-1];se.emit("add-history",{loc:o,prop:"IST"})}},watch:{isFullscreen(e,t){e!=t&&(this.$refs.note.style.display="none",setTimeout((()=>{this.$refs.note.style.display="block"}),1200))}}};const Rt=(0,U.Z)(Vt,[["render",ue],["__scopeId","data-v-5fec381c"]]);var Yt=Rt;function Gt(e,t,o,s,l,n){const a=(0,i.up)("anchors-view",!0),d=(0,i.up)("drawer");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(d,{title:"笔记摘要",disabled:l.drawerDisabled,onCloseDrawer:t[0]||(t[0]=e=>l.drawerDisabled=!0)},{default:(0,i.w5)((()=>[(0,i.Wm)(a,{list:l.anchorList},null,8,["list"])])),_:1},8,["disabled"])])}const zt={class:"titlebar shadow-4"},Pt={class:"closer circle"},Jt={class:"drawer-view"};function qt(e,t,o,s,n,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",{class:(0,l.C_)(["fullscreen-mask",{disabled:o.disabled}]),onClick:t[0]||(t[0]=(...e)=>a.close&&a.close(...e))},null,2),(0,i._)("div",{class:(0,l.C_)(["drawer",{disabled:o.disabled}])},[(0,i._)("div",zt,[(0,i._)("div",Pt,[(0,i._)("i",{class:"material-icons arrow-forward",onClick:t[1]||(t[1]=(...e)=>a.close&&a.close(...e))},"arrow_forward"),(0,i._)("i",{class:"material-icons arrow-upward",onClick:t[2]||(t[2]=(...e)=>a.close&&a.close(...e))},"arrow_upward")]),(0,i._)("h1",null,(0,l.zw)(o.title),1)]),(0,i._)("div",Jt,[(0,i.WI)(e.$slots,"default")])],2)],64)}var Qt={props:["title","disabled"],emits:["close-drawer"],methods:{close(){this.$emit("close-drawer")}}};const Xt=(0,U.Z)(Qt,[["render",qt]]);var eo=Xt,to={data(){return{drawerDisabled:!0,anchorList:[],timeout:null}},components:{Drawer:eo,AnchorsView:{props:["list"],render(){let e=this.list.map((e=>(0,i.h)("a",{level:e.level,href:"#"+e.href},e.content)));return(0,i.h)("div",e)}}},inject:["note"],methods:{getAnchors(){const e=document.querySelectorAll(".heading");let t=[];for(let o of e)t.push({level:o.tagName,href:o.id,content:o.innerText});return t},close(){this.drawerDisabled=!0}},mounted(){se.on("open-anchors",(()=>{this.drawerDisabled=!1})),se.on("anchor-mounted",(()=>{this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.timeout=setTimeout((()=>{this.anchorList=this.getAnchors()}))}))}};const oo=(0,U.Z)(to,[["render",Gt]]);var so=oo;const io=e=>((0,i.dD)("data-v-c8fd90ac"),e=e(),(0,i.Cn)(),e),lo=io((()=>(0,i._)("div",{class:"block"},[(0,i._)("div",{class:"mask"}),(0,i._)("i",{class:"material-icons"},"apps")],-1))),no=io((()=>(0,i._)("i",{class:"material-icons"},"subtitles",-1))),ao=[no],co={class:"material-icons"},ro={class:"material-icons"},ho=io((()=>(0,i._)("i",{class:"material-icons"},"touch_app",-1))),uo=[ho],po={class:"material-icons"},mo={class:"material-icons"};function bo(e,t,o,n,a,d){return(0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(["controlballs",{fullscreen:o.isFullscreen}])},[lo,(0,i._)("div",{class:"ball btn",onClick:t[0]||(t[0]=(...e)=>d.openAnchors&&d.openAnchors(...e))},ao),(0,i._)("div",{class:"ball btn",onClick:t[1]||(t[1]=t=>e.$emit("toggle-darkMode"))},[(0,i.wy)((0,i._)("i",co,"brightness_2",512),[[s.F8,!o.isDarkMode]]),(0,i.wy)((0,i._)("i",ro,"wb_sunny",512),[[s.F8,o.isDarkMode]])]),(0,i._)("div",{class:(0,l.C_)(["ball btn",{black:o.isTouchMode}]),onClick:t[2]||(t[2]=t=>e.$emit("toggle-touchMode"))},uo,2),(0,i._)("div",{class:"ball btn",onClick:t[3]||(t[3]=t=>e.$emit("toggle-fullscreen"))},[(0,i.wy)((0,i._)("i",po,"fullscreen",512),[[s.F8,!o.isFullscreen]]),(0,i.wy)((0,i._)("i",mo,"fullscreen_exit",512),[[s.F8,o.isFullscreen]])])],2)}var fo={props:["isDarkMode","isTouchMode","isFullscreen"],emits:["toggle-darkMode","toggle-touchMode","toggle-fullscreen"],methods:{openAnchors(){se.emit("open-anchors")}}};const go=(0,U.Z)(fo,[["render",bo],["__scopeId","data-v-c8fd90ac"]]);var vo=go;const wo=e=>((0,i.dD)("data-v-1743cc7c"),e=e(),(0,i.Cn)(),e),To={class:"uploader"},_o=wo((()=>(0,i._)("i",{class:"material-icons"},"close",-1))),Co=[_o],ko={class:"note-view-outer"},No={class:"note-view"},yo={class:"input-group"},xo={class:"buttons shadow-3"},Lo=wo((()=>(0,i._)("i",{class:"material-icons"},"cloud_upload",-1))),Mo=[Lo],jo=wo((()=>(0,i._)("i",{class:"material-icons"},"file_download",-1))),Do=[jo],So=wo((()=>(0,i._)("i",{class:"material-icons"},"create_new_folder",-1))),Oo=[So],Fo=wo((()=>(0,i._)("i",{class:"material-icons"},"delete_forever",-1))),Io=[Fo];function $o(e,t,o,l,n,a){const d=(0,i.up)("uploader-list"),c=(0,i.up)("textfield-group"),r=(0,i.up)("window");return(0,i.wg)(),(0,i.j4)(r,{width:"800px",height:"480px",disabled:n.disabled,onClose:t[7]||(t[7]=e=>n.disabled=!0)},{default:(0,i.w5)((()=>[(0,i._)("div",To,[(0,i._)("div",{class:"closer shadow-1",onClick:t[0]||(t[0]=e=>n.disabled=!0)},Co),(0,i._)("div",ko,[(0,i._)("div",No,[(0,i.Wm)(d,{list:n.noteList},null,8,["list"]),(0,i.Wm)(c,{onReturnNode:e.creatFolder,isAdding:n.addingFolder,ref:"textfieldGroup"},null,8,["onReturnNode","isAdding"])])]),(0,i._)("div",yo,[(0,i.wy)((0,i._)("input",{class:"inputter",type:"text",placeholder:"笔记名",maxlength:"20","onUpdate:modelValue":t[1]||(t[1]=e=>a.note.NM=e)},null,512),[[s.nr,a.note.NM]]),(0,i.wy)((0,i._)("input",{class:"inputter",type:"password",placeholder:"密码",maxlength:"10","onUpdate:modelValue":t[2]||(t[2]=e=>n.password=e)},null,512),[[s.nr,n.password]])]),(0,i._)("div",xo,[(0,i._)("div",{class:"btn btn-shallow",onClick:t[3]||(t[3]=(...t)=>e.upload&&e.upload(...t))},Mo),(0,i._)("div",{class:"btn btn-shallow",onClick:t[4]||(t[4]=(...t)=>e.download&&e.download(...t))},Do),(0,i._)("div",{class:"btn btn-shallow",onClick:t[5]||(t[5]=(...e)=>a.toCreatFolder&&a.toCreatFolder(...e))},Oo),(0,i._)("div",{class:"btn btn-shallow",onClick:t[6]||(t[6]=(...t)=>e.deleteFile&&e.deleteFile(...t))},Io)])])])),_:1},8,["disabled"])}var Ao=o(196);const Eo=e=>((0,i.dD)("data-v-e47aff0c"),e=e(),(0,i.Cn)(),e),Ho=Eo((()=>(0,i._)("div",{class:"no-note"},"暂无笔记",-1))),Wo=[Ho],Zo={class:"note-list",ref:"noteList"};function Uo(e,t,o,l,n,a){const d=(0,i.up)("uploader-list-folder"),c=(0,i.up)("uploader-list-file");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.wy)((0,i._)("div",null,Wo,512),[[s.F8,!o.list.length]]),(0,i._)("ul",Zo,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.list,((e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:e.id},["object"==typeof e?((0,i.wg)(),(0,i.j4)(d,{key:0,location:[t],name:e[0],list:e[1]},null,8,["location","name","list"])):((0,i.wg)(),(0,i.j4)(c,{key:1,location:[t],name:e},null,8,["location","name"]))],64)))),128))],512)],64)}const Bo={class:"folder-item"},Ko={class:"item-name"},Vo={class:"folder"};function Ro(e,t,o,n,a,d){const c=(0,i.up)("uploader-list-folder",!0),r=(0,i.up)("uploader-list-file");return(0,i.wg)(),(0,i.iD)("li",Bo,[(0,i._)("div",{class:(0,l.C_)(["item",{selected:e.selected}]),onClick:t[1]||(t[1]=(...e)=>d.collapse&&d.collapse(...e))},[(0,i._)("i",{class:"item-avatar material-icons",onClick:t[0]||(t[0]=(0,s.iM)(((...t)=>e.select&&e.select(...t)),["stop"]))},"folder_open"),(0,i._)("span",Ko,(0,l.zw)(o.name),1)],2),(0,i.wy)((0,i._)("ul",Vo,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.list,((e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:e.id},["object"==typeof e?((0,i.wg)(),(0,i.j4)(c,{key:0,location:o.location.concat([t]),name:e[0],list:e[1]},null,8,["location","name","list"])):((0,i.wg)(),(0,i.j4)(r,{key:1,location:o.location.concat([t]),name:e},null,8,["location","name"]))],64)))),128))],512),[[s.F8,!a.collapsed]])])}var Yo={data(){return{selected:!1}},inject:["selectedItem"],methods:{select(){this.selected?(this.selected=!1,this.selectedItem.loc=[],this.selectedItem.type="",this.selectedItem.obj=null):(this.selected=!0,this.selectedItem.obj&&(this.selectedItem.obj.selected=!1),this.selectedItem.loc=this.location,this.selectedItem.type=this.type,this.selectedItem.obj=this)}}};const Go=(0,i._)("i",{class:"item-avatar material-icons"},"assignment",-1),zo={class:"item-name"};function Po(e,t,o,s,n,a){return(0,i.wg)(),(0,i.iD)("li",{class:(0,l.C_)(["item",{selected:e.selected}]),onClick:t[0]||(t[0]=(...t)=>e.select&&e.select(...t))},[Go,(0,i._)("span",zo,(0,l.zw)(o.name),1)],2)}var Jo={props:["location","name"],mixins:[Yo],data(){return{type:"file"}}};const qo=(0,U.Z)(Jo,[["render",Po]]);var Qo=qo,Xo={name:"uploader-list-folder",components:{UploaderListFile:Qo},mixins:[Yo],props:["location","name","list"],data(){return{type:"folder",collapsed:!0}},methods:{collapse(){this.collapsed=!this.collapsed}}};const es=(0,U.Z)(Xo,[["render",Ro],["__scopeId","data-v-3eae6352"]]);var ts=es,os={props:["list"],emits:["file-select"],components:{UploaderListFolder:ts,UploaderListFile:Qo}};const ss=(0,U.Z)(os,[["render",Uo],["__scopeId","data-v-e47aff0c"]]);var is=ss;function ls(e){let t;return t="string"==typeof e?e:e[0],t}var ns={methods:{getTargetName(){const e=this.selected.loc,t=this.noteList;let o;if(1==e.length){const s=e[0],i=t[s];o=ls(i)}else{let s;o=[];for(let i in e){const l=e[i];s=0==i?t[l]:s[1][l];const n=ls(s);o.push(n)}o=o.join("/")}return o}}},as={mixins:[ns],methods:{upload(){const e=this.note.NM;let t,o;this.selected.obj&&"folder"==this.selected.type&&(t=this.selected.loc,o=this.getTargetName());const s={NM:this.note.NM,CTS:this.note.CTS};Ao.ZP.put("/api/upload",{note:JSON.stringify(s),folderLoc:t,folderName:o,noteName:e,password:this.password}).then((e=>{e.data.code?se.emit("show-msg",e.data.msg):(e.data.isNew&&(this.noteList=e.data.noteList),se.emit("show-msg","笔记上传成功。"))})).catch((e=>{console.warn(e),se.emit("show-msg","笔记上传请求失败。")}))},download(){if(!this.selected.obj)return void alert("请选择文件！");const e=this.selected.type;if("folder"==e)return void alert("不能下载文件夹。");const t=this.selected.loc,o=this.getTargetName();Ao.ZP.post("/api/download",{location:t,name:o,type:e,password:this.password}).then((e=>{if(e.data.code)5==e.data.code?(this.noteList=e.data.noteList,se.emit("show-msg",e.data.msg)):se.emit("show-msg",e.data.msg);else{se.emit("show-msg","笔记下载成功。");let t=confirm("将覆盖当前笔记，是否继续？");if(t){const t=e.data.noteContent,o=JSON.parse(t);this.note.NM=o.NM,this.note.CTS=o.CTS,se.emit("note-loaded"),document.title=`${o.NM} -- BNotee`}}})).catch((e=>{console.warn(e),se.emit("下载文件请求错误！")}))},creatFolder(e){if(this.addingFolder=!1,!e)return;const t=e.CT;let o,s;this.selected.obj&&"folder"==this.selected.type&&(o=this.selected.loc,s=this.getTargetName()),Ao.ZP.post("/api/create-folder",{folderName:s,folderLoc:o,name:t,password:this.password}).then((e=>{e.data.code?se.emit("show-msg",e.data.msg):(se.emit("show-msg","文件夹创建成功。"),this.noteList=e.data.noteList)})).catch((e=>{console.warn(e),se.emit("创建文件夹请求错误。")}))},deleteFile(){const e=confirm("此操作无法撤销，你确定吗？");if(e)if(this.selected.obj){const e=this.getTargetName(),t=this.selected.type,o=this.selected.loc;Ao.ZP["delete"]("/api/delete",{data:{name:e,type:t,location:o,password:this.password}}).then((e=>{e.data.code?5==e.data.code?(this.noteList=e.data.noteList,se.emit("show-msg",e.data.msg)):se.emit("show-msg",e.data.msg):(this.noteList=e.data.noteList,se.emit("show-msg","文件删除成功。"))})).catch((e=>{console.warn(e),se.emit("删除文件请求错误。")}))}else alert("请选择文件或文件夹。")}}},ds={components:{Window:K,UploaderList:is,TextfieldGroup:Kt},mixins:[as,ns],inject:["note"],data(){return{disabled:!0,selected:{loc:[],type:"",obj:null},addingFolder:!1,password:"",noteList:[]}},provide(){return{selectedItem:this.selected}},methods:{toCreatFolder(){this.addingFolder=!0,this.$nextTick((()=>{this.$refs.textfieldGroup.focus()}))},show(){this.getTargetName()}},mounted(){se.on("open-uploader",(()=>{if(this.disabled=!1,!this.noteList.length){const e=(new Date).getTime();Ao.ZP.get(`/note-list?timestamp=${e}`).then((e=>{this.noteList=e.data.noteList})).catch((()=>{se.emit("show-msg","笔记列表获取错误。")}))}}))}};const cs=(0,U.Z)(ds,[["render",$o],["__scopeId","data-v-1743cc7c"]]);var rs=cs;function hs(e,t,o,s,l,n){const a=(0,i.up)("textfield-group-fixed"),d=(0,i.up)("colors"),c=(0,i.up)("table-setter"),r=(0,i.up)("history");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(a,{onClose:n.close,disabled:l.textfieldGroupDisabled},null,8,["onClose","disabled"]),(0,i.Wm)(d,{onClose:n.close,disabled:l.colorsDisabled},null,8,["onClose","disabled"]),(0,i.Wm)(c,{onClose:n.close,disabled:l.tableSetterDisabled},null,8,["onClose","disabled"]),(0,i.Wm)(r,{disabled:l.historyDisabled},null,8,["disabled"])])}const us={class:"textfield-group fixed-component fixed"},ps={class:"selector",ref:"selector"},ms=(0,i._)("option",{value:"h"},"标题",-1),bs=(0,i._)("option",{value:"p"},"段落",-1),fs=(0,i._)("option",{value:"link"},"链接",-1),gs=(0,i._)("option",{value:"hr"},"割线",-1),vs=(0,i._)("option",{value:"floor"},"层次",-1),ws=(0,i._)("option",{value:"ol"},"序列",-1),Ts=(0,i._)("option",{value:"ul"},"乱列",-1),_s=(0,i._)("option",{value:"code"},"代码",-1),Cs=(0,i._)("option",{value:"table"},"表格",-1),ks=(0,i._)("option",{value:"details"},"详情",-1),Ns=[ms,bs,fs,gs,vs,ws,Ts,_s,Cs,ks],ys={class:"selector",ref:"selector4List"},xs=(0,i._)("option",{value:"li"},"列项",-1),Ls=(0,i._)("option",{value:"ol"},"序列",-1),Ms=(0,i._)("option",{value:"ul"},"乱列",-1),js=[xs,Ls,Ms],Ds=(0,i._)("i",{class:"material-icons"},"close",-1),Ss=[Ds];function Os(e,t,o,l,n,a){return(0,i.wg)(),(0,i.j4)(s.uT,{name:"slide"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",us,[(0,i.wy)((0,i._)("select",ps,Ns,512),[[s.F8,!a.isFromNestedList]]),(0,i.wy)((0,i._)("select",ys,js,512),[[s.F8,a.isFromNestedList]]),(0,i._)("div",{class:"textfield",ref:"inputer",contenteditable:"true",onKeydown:t[0]||(t[0]=(0,s.D2)(((...e)=>a.onEnter&&a.onEnter(...e)),["enter"]))},null,544),(0,i._)("div",{class:"textfield-closer closer",onClick:t[1]||(t[1]=(...e)=>a.closeTextfield&&a.closeTextfield(...e))},Ss)],512),[[s.F8,!o.disabled]])])),_:1})}var Fs={data(){return{commandFrom:""}},props:["disabled"],inject:["selectedNode"],computed:{isFromNestedList(){return"list"==this.commandFrom||["li","nestedList"].includes(this.selectedNode.type)}},mounted(){se.on("textfield-open",(e=>{this.commandFrom=e}))},methods:{onEnter(e){e.altKey&&(e.preventDefault(),this.closeTextfield())},closeTextfield(){this.$emit("close","textfieldGroup");const e=this.isFromNestedList?this.$refs.selector4List.value:this.$refs.selector.value,t=this.$refs.inputer.innerText,o=Zt(e,t);se.emit("textfield-return-"+this.commandFrom,o),this.$refs.inputer.blur(),this.$refs.inputer.innerText=""}}};const Is=(0,U.Z)(Fs,[["render",Os]]);var $s=Is;const As=e=>((0,i.dD)("data-v-9ab59f84"),e=e(),(0,i.Cn)(),e),Es={class:"colors fixed-component"},Hs=["onClick"],Ws={class:"input-group"},Zs=As((()=>(0,i._)("i",{class:"material-icons"},"close",-1))),Us=[Zs];function Bs(e,t,o,n,a,d){return(0,i.wg)(),(0,i.j4)(s.uT,{name:"slide"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",Es,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.colors,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id,class:"color btn btn-shallow",style:(0,l.j5)({"background-color":e}),onClick:t=>d.setColor(e)},null,12,Hs)))),128)),(0,i._)("div",Ws,[(0,i._)("div",{class:"hint",onClick:t[0]||(t[0]=t=>e.$refs.colorInputter.click())},"#"),(0,i.wy)((0,i._)("input",{type:"color",ref:"colorInputter","onUpdate:modelValue":t[1]||(t[1]=e=>a.colorValue=e)},null,512),[[s.F8,!1],[s.nr,a.colorValue]]),(0,i.wy)((0,i._)("input",{class:"inputter",placeholder:"******",type:"text",maxlength:"8","onUpdate:modelValue":t[2]||(t[2]=e=>a.colorValue=e)},null,512),[[s.nr,a.colorValue]])]),(0,i._)("div",{class:"closer",onClick:t[3]||(t[3]=t=>e.$emit("close","colors"))},Us)],512),[[s.F8,!o.disabled]])])),_:1})}var Ks={data(){return{colors:["#D50000","#FFD600","#333"],colorValue:"",timeout:null}},props:["disabled"],inject:["selectedNode"],mixins:[P],methods:{getColor(){const e=this.selectedNode.obj,t=e.CL;this.colorValue=t},setColor(e){const t=this.selectedNode.loc,o=this.selectedNode.obj,s=o.CL;o.CL=e,se.emit("add-history",{loc:t,prop:"CL",before:s,after:e})}},watch:{colorValue(e){clearTimeout(this.timeout),this.colorValue=e.replace("#",""),this.timeout=setTimeout((()=>{this.setColor("#"+this.colorValue)}),300)},disabled(e){e||this.getColor()}}};const Vs=(0,U.Z)(Ks,[["render",Bs],["__scopeId","data-v-9ab59f84"]]);var Rs=Vs;const Ys=e=>((0,i.dD)("data-v-75915245"),e=e(),(0,i.Cn)(),e),Gs={class:"table-setter fixed-component"},zs={class:"input-group"},Ps=Ys((()=>(0,i._)("i",{class:"hint material-icons"},"view_headline",-1))),Js={class:"input-group"},qs=Ys((()=>(0,i._)("i",{class:"hint material-icons"},"view_column",-1))),Qs=Ys((()=>(0,i._)("i",{class:"material-icons"},"check",-1))),Xs=[Qs],ei=Ys((()=>(0,i._)("i",{class:"material-icons"},"close",-1))),ti=[ei];function oi(e,t,o,l,n,a){return(0,i.wg)(),(0,i.j4)(s.uT,{name:"slide"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",Gs,[(0,i._)("div",zs,[Ps,(0,i.wy)((0,i._)("input",{class:"inputter",type:"text",placeholder:" > 0 ","onUpdate:modelValue":t[0]||(t[0]=e=>n.row=e)},null,512),[[s.nr,n.row]])]),(0,i._)("div",Js,[qs,(0,i.wy)((0,i._)("input",{class:"inputter",type:"text",placeholder:" > 0 ",maxlength:"3","onUpdate:modelValue":t[1]||(t[1]=e=>n.col=e)},null,512),[[s.nr,n.col]])]),(0,i._)("div",{class:"closer",onClick:t[2]||(t[2]=(...e)=>a.tableSet&&a.tableSet(...e))},Xs),(0,i._)("div",{class:"closer",onClick:t[3]||(t[3]=t=>e.$emit("close","tableSetter"))},ti)],512),[[s.F8,!o.disabled]])])),_:1})}var si={data(){return{row:1,col:1,targetNode:null,targetNodeLoc:[],timeout:null}},props:["disabled"],mixins:[P],mounted(){const e={ROW:"row",COL:"col"};se.on("table-location",(e=>{this.tableGet(e)})),se.on("table-edit",(({historyObj:t,resultValue:o})=>{this.tableGet(t.loc);const s=e[t.prop];this[s]=t[o],this.tableSet(!1)}))},methods:{eventListen(e){const t=e.key;"Enter"==t&&this.tableSet(!0)},tableGet(e){e&&(this.targetNodeLoc=e,this.getNodeObj({location:e,callback:(e,t)=>{this.targetNode=e[t]}})),this.row=this.targetNode.CTS.length,this.col=this.targetNode.CTS[0].length},tableSet(e){const t=this.targetNode.CTS.length,o=this.targetNode.CTS[0].length,s=Math.abs(this.row-t),i=Math.abs(this.col-o);if(this.col!=o)if(e&&se.emit("add-history",{loc:this.targetNodeLoc,prop:"COL",before:o,after:this.col}),this.col>o)for(let l of this.targetNode.CTS)for(let e=0;e<i;e++)l.push("");else for(let l of this.targetNode.CTS)for(let e=0;e<i;e++)l.pop();if(this.row!=t)if(e&&se.emit("add-history",{loc:this.targetNodeLoc.loc,prop:"ROW",before:t,after:this.row}),this.row>t){let e=[];for(let t=0;t<this.col;t++)e.push("");for(let t=0;t<s;t++)this.targetNode.CTS.push([...e])}else for(let l=0;l<s;l++)this.targetNode.CTS.pop()}},watch:{disabled(e){e?(this.targetNode=null,this.targetNodeLoc=[],removeEventListener("keydown",this.eventListen)):addEventListener("keydown",this.eventListen)},row(e){e<1?this.timeout=setTimeout((()=>{this.row=1}),1e3):clearTimeout(this.timeout)},col(e){e<1?this.timeout=setTimeout((()=>{this.col=1}),1e3):clearTimeout(this.timeout)}}};const ii=(0,U.Z)(si,[["render",oi],["__scopeId","data-v-75915245"]]);var li=ii;const ni=e=>((0,i.dD)("data-v-6217a73f"),e=e(),(0,i.Cn)(),e),ai={class:"history fixed-component"},di=ni((()=>(0,i._)("i",{class:"material-icons"},"undo",-1))),ci=[di],ri=ni((()=>(0,i._)("i",{class:"material-icons"},"redo",-1))),hi=[ri],ui=ni((()=>(0,i._)("i",{class:"material-icons"},"menu",-1))),pi=[ui];function mi(e,t,o,n,a,d){const c=(0,i.up)("history-view"),r=(0,i.up)("drawer");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(s.uT,{name:"slide"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",ai,[(0,i._)("div",{class:(0,l.C_)(["btn btn-shallow",{disabled:a.historyIndex==d.note.HT.length-1}]),onClick:t[0]||(t[0]=e=>d.doit("undo"))},ci,2),(0,i._)("div",{class:(0,l.C_)(["btn btn-shallow",{disabled:a.historyIndex<0}]),onClick:t[1]||(t[1]=e=>d.doit("redo"))},hi,2),(0,i._)("div",{class:(0,l.C_)(["btn btn-shallow",{disabled:!d.note.HT.length}]),onClick:t[2]||(t[2]=e=>a.drawerDisabled=!1)},pi,2)],512),[[s.F8,!o.disabled]])])),_:1}),(0,i.Wm)(r,{title:"编辑历史",disabled:a.drawerDisabled,onCloseDrawer:t[3]||(t[3]=e=>a.drawerDisabled=!0)},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{list:d.note.HT,index:a.historyIndex},null,8,["list","index"])])),_:1},8,["disabled"])],64)}o(541);const bi=e=>((0,i.dD)("data-v-45d2a3a0"),e=e(),(0,i.Cn)(),e),fi=bi((()=>(0,i._)("span",{class:"history-prop"},"位置：",-1))),gi={class:"loc"},vi=bi((()=>(0,i._)("span",{class:"history-prop"},"属性：",-1))),wi={class:"prop"},Ti=bi((()=>(0,i._)("span",{class:"history-prop"},"改前：",-1))),_i=["title"],Ci=bi((()=>(0,i._)("span",{class:"history-prop"},"改后：",-1))),ki=["title"],Ni=["data-index"];function yi(e,t,o,n,a,d){return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.list,((e,o)=>((0,i.wg)(),(0,i.iD)("div",{class:"history-block",key:e.id,ref_for:!0,ref:"historyBlock"},[(0,i._)("div",null,[fi,(0,i._)("span",gi,(0,l.zw)(e.loc),1)]),(0,i._)("div",null,[vi,(0,i._)("span",wi,(0,l.zw)(a.propsDict[e.prop]),1)]),(0,i.wy)((0,i._)("div",null,[Ti,(0,i._)("span",{class:"text",title:e.before},(0,l.zw)(e.before),9,_i)],512),[[s.F8,e.before]]),(0,i.wy)((0,i._)("div",null,[Ci,(0,i._)("span",{class:"text",title:e.after},(0,l.zw)(e.after),9,ki)],512),[[s.F8,e.after]]),(0,i._)("div",{class:"btn btn-shallow",onClick:t[0]||(t[0]=(...e)=>d.doSome&&d.doSome(...e))},[(0,i._)("i",{class:"material-icons","data-index":o},"check",8,Ni)])])))),128)}var xi={props:["list","index"],data(){return{propsDict:{CT:"内容",CL:"颜色",SUM:"题目",ROW:"行数",COL:"列数",IST:"插入",DEL:"删除"}}},methods:{doSome(e){const t=e.target,o=t.dataset["index"],s=this.$parent.$parent;s.doSome(o)}},watch:{index(e,t){const o=this.$el.parentNode,s=o.children[e],i=o.children[t];e>-1&&s.classList.add("selected"),t>-1&&i.classList.remove("selected")}}};const Li=(0,U.Z)(xi,[["render",yi],["__scopeId","data-v-45d2a3a0"]]);var Mi=Li,ji={data(){return{drawerDisabled:!0,historyIndex:-1}},components:{Drawer:eo,HistoryView:Mi},props:["disabled"],inject:["note","selectedNode"],mixins:[P,J,q],methods:{doit(e){const t="undo"==e?++this.historyIndex:this.historyIndex--;let o=this.note.HT[t];const s="undo"==e?"before":"after";switch(o.prop){case"CT":case"CL":case"SUM":this.getNodeObj({location:o.loc,callback:(e,t)=>{const i=e[t];i[o.prop]=o[s]}});break;case"ROW":case"COL":se.emit("table-edit",{historyObj:o,resultValue:s});break;case"IST":{const e=o.loc,t=this.deleteNode(e);o.prop="DEL",o.loc[o.loc.length-1]-=1,o.nodeObj=t;break}case"DEL":{const e=o.nodeObj,t=o.loc;this.insertNode(e,t),o.prop="IST",o.loc[o.loc.length-1]+=1;break}}},doSome(e){const t=e-this.historyIndex,o=Math.abs(t);let s;if(t>0)s="undo";else{if(!(t<0))return;s="redo"}for(let i=0;i<o;i++)this.doit(s)}},mounted(){addEventListener("keydown",(e=>{const t=e.altKey,o=e.key;t&&"z"==o&&this.doit("undo")})),addEventListener("keydown",(e=>{const t=e.altKey,o=e.key;t&&"y"==o&&this.doit("redo")})),se.on("add-history",(e=>{const t=this.note.HT;if(20==t.length&&t.pop(),this.historyIndex<0)t.unshift(e);else{const o=this.historyIndex+1;t.splice(0,o),t.unshift(e),this.historyIndex=-1}})),se.on("clear-history",(()=>{this.historyIndex=-1}))}};const Di=(0,U.Z)(ji,[["render",mi],["__scopeId","data-v-6217a73f"]]);var Si=Di,Oi={data(){return{textfieldGroupDisabled:!0,colorsDisabled:!0,tableSetterDisabled:!0,historyDisabled:!1}},components:{TextfieldGroupFixed:$s,Colors:Rs,TableSetter:li,History:Si},methods:{open(e){this.closeAll(),this[e+"Disabled"]=!1},close(e){this[e+"Disabled"]=!0,this.historyDisabled=!1},closeAll(){this.colorsDisabled=!0,this.textfieldGroupDisabled=!0,this.tableSetterDisabled=!0,this.historyDisabled=!0}},mounted(){se.on("fixedComponents-open",this.open),se.on("textfield-open",(()=>{this.open("textfieldGroup")})),se.on("fixedComponents-close",(()=>{this.closeAll(),this.historyDisabled=!1}))}};const Fi=(0,U.Z)(Oi,[["render",hs],["__scopeId","data-v-18e0962a"]]);var Ii=Fi;const $i={class:"msgbar-outer"};function Ai(e,t,o,n,a,d){return(0,i.wg)(),(0,i.j4)(s.uT,{name:"slide"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",$i,[(0,i._)("div",{class:(0,l.C_)(["msgbar",{active:a.active}]),onClick:t[0]||(t[0]=(...e)=>d.close&&d.close(...e))},(0,l.zw)(a.msg),3)],512),[[s.F8,a.active]])])),_:1})}var Ei={data(){return{active:!1,msg:""}},methods:{close(){this.active=!1}},mounted(){se.on("show-msg",(e=>{this.msg=e,this.active=!0}))},watch:{active(e){e&&setTimeout((()=>{this.close()}),3e3)}}};const Hi=(0,U.Z)(Ei,[["render",Ai]]);var Wi=Hi,Zi={NM:"Example",HT:[],CTS:[{NT:"h",CT:"这是一个大标题",CL:"#333"},{NT:"hr"},{NT:"p",CT:"这是一个段落",CL:"#333"},{NT:"p",CT:"内联样式实例（均使用英文符号）：##粗体## ``代码`` __下划线__ //斜体// --删除-- ::淡化::",CL:"#333"},{NT:"link",CT:"一个链接",HF:"https://www.bing.com",CL:"#333"},{NT:"floor",CTS:[{NT:"h",CT:"这是层次中的大标题",CL:"#333"},{NT:"p",CT:"这是一个段落",CL:"#333"},{NT:"floor",CTS:[{NT:"h",CT:"这是层次中的大标题",CL:"#333"},{NT:"p",CT:"这是一个段落",CL:"#333"}]}]},{NT:"list",OL:!0,CTS:[{NT:"li",CT:"这是一个列表项",CL:"#333"},{NT:"li",CT:"这是一个列表项",CL:"#333"},{NT:"list",OL:!1,CTS:[{NT:"li",CT:"嵌套列表内的列表项",CL:"#333"},{NT:"li",CT:"嵌套列表内的列表项",CL:"#333"}]}]},{NT:"table",CTS:[["表格项","表格项","表格项","表格项"],["表格项","表格项","表格项","表格项"]]},{NT:"details",SUM:"这是一个详情块",CTS:[{CT:"这是一个段落",CL:"#333"},{CT:"这是一个段落",CL:"#333"}]},{NT:"code",LG:"javascript",CT:"console.log('Hello World')\nalert('Hello World')"}]},Ui={name:"App",components:{Anchors:so,Note:Yt,Uploader:rs,ControlBalls:vo,ToolBar:de,Msgbar:Wi,FixedComponents:Ii},data(){return{windowDisabled:!1,note:Zi,selectedNode:{loc:null,obj:null,vnode:null,type:null},isDarkMode:!1,isTouchMode:!1,isFullscreen:!1}},provide(){return{note:this.note,selectedNode:this.selectedNode,isTouchMode:(0,i.Fl)((()=>this.isTouchMode))}},mounted(){this.$nextTick((()=>{const e=()=>{const e=document.querySelector("#meta-viewport");let t;window&&(t=window.outerHeight);const o=`width=device-width,height=${t},initial-scale=1.0`;e.setAttribute("content",o)};e(),addEventListener("orientationchange",(()=>{e()}))}))}};const Bi=(0,U.Z)(Ui,[["render",n]]);var Ki=Bi;o(9029);const Vi=(0,s.ri)(Ki);Vi.use(vt.Z),Vi.config.unwrapInjectedRef=!0,Vi.mount("#app")}},t={};function o(s){var i=t[s];if(void 0!==i)return i.exports;var l=t[s]={exports:{}};return e[s].call(l.exports,l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(t,s,i,l){if(!s){var n=1/0;for(r=0;r<e.length;r++){s=e[r][0],i=e[r][1],l=e[r][2];for(var a=!0,d=0;d<s.length;d++)(!1&l||n>=l)&&Object.keys(o.O).every((function(e){return o.O[e](s[d])}))?s.splice(d--,1):(a=!1,l<n&&(n=l));if(a){e.splice(r--,1);var c=i();void 0!==c&&(t=c)}}return t}l=l||0;for(var r=e.length;r>0&&e[r-1][2]>l;r--)e[r]=e[r-1];e[r]=[s,i,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,l,n=s[0],a=s[1],d=s[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(d)var r=d(o)}for(t&&t(s);c<n.length;c++)l=n[c],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(r)},s=self["webpackChunkBNotee"]=self["webpackChunkBNotee"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(8033)}));s=o.O(s)})();
//# sourceMappingURL=app.6a3850f3.js.map